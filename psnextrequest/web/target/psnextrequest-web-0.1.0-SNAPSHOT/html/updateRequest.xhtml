<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
	template="/template/layout.xhtml">
	
	<ui:define name="content">
		<h2>Modifier la demande</h2>
		
			<h:form id="form">

				<div class="command" id="requestCreation">
					
					<p:messages id="msg" autoUpdate="true" closable="true" />
					
					<div class="line">			
						<div class="section">
							<h:outputLabel for="project_select" value="Projet :" />
							<h:inputText name="project_select" id="project_select" disabled="true" value="#{sessionBean.request.task.project.projectName}" />
						</div>
	
						<div class="section">
							<h:outputLabel for="task_select" value="Tâche :" />
							<h:inputText name="task_select" id="task_select" disabled="true" value="#{sessionBean.request.task.taskName}" />
						</div>
					</div>
					
					<div class="line">
						<div class="section">
							<h:outputLabel for="from_calendar" value="Du : " />
							<a4j:outputPanel layout="block" style="float:left">
				                <rich:calendar value="#{sessionBean.request.requestStartDate}" id="from_calendar" required="true" requiredMessage="Sélectionnez la date de début svp"
				                     locale="fr/FR"
				                     popup="true"
				                     datePattern="dd/MM/yyyy"
				                     cellWidth="24px" cellHeight="22px" />
				            	<a4j:commandLink onclick="$('form:from_calendar').component.doExpand(event)" value=""/> 
			            	</a4j:outputPanel>
						</div>
		
						<div class="section">
							<h:outputLabel for="to_calendar" value="A : " />
							<a4j:outputPanel layout="block" style="float:left">
				                <rich:calendar value="#{sessionBean.request.requestEndDate}" id="to_calendar" required="true" requiredMessage="Sélectionnez la date de fin svp"
				                     locale="fr/FR"
				                     popup="true"
				                     datePattern="dd/MM/yyyy"
				                     cellWidth="24px" cellHeight="22px" />
				            	<a4j:commandLink onclick="$('form:to_calendar').component.doExpand(event)" value=""/> 
			            	</a4j:outputPanel>
						</div>
					</div>
					
					<div class="line">
						<div class="section">
							<h:outputLabel for="hours" value="Heures: " />
							<h:inputText type="text" name="hours" id="hours" value="#{sessionBean.request.requestDuration}" required="true" requiredMessage="Entrez la durée que vous avez passé sur la tache svp!"/>
							<span> (jj hh mm)</span>
						</div>
					</div>
					
					<div class="line">
						<h:outputLabel for="description" value="Description: " />
						<div class="section">
							<h:inputTextarea name="description" id="description" rows="4" cols="50" value="#{sessionBean.request.requestDescription}" required="true" requiredMessage="Decrivez la tâche svp!"/>
						</div>
					</div>
					
					<div class="line">
						<h:commandButton class="buttons" id="requestCreationBtn" action="#{requestControllerBean.updateRequest}" value="Modifier" />
						<h:commandButton class="buttons" id="cancelBtn" immediate="true" action="toRequestsConsult" value="Annuler" />
					</div>
					
				</div>
			
			</h:form>			
			<div class="h40"></div>
	</ui:define>
</ui:composition>
